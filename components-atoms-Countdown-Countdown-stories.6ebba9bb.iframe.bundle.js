/*! For license information please see components-atoms-Countdown-Countdown-stories.6ebba9bb.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkds_loud_ng=self.webpackChunkds_loud_ng||[]).push([[393],{"./src/components/atoms/Countdown/Countdown.stories.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CountdownExample:()=>CountdownExample,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Countdown_stories});__webpack_require__("./node_modules/react/index.js");var chunk_OPEUWD42=__webpack_require__("./node_modules/@storybook/addon-actions/dist/chunk-OPEUWD42.mjs"),Countdown=__webpack_require__("./src/components/atoms/Countdown/Countdown.jsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const story={title:"Components/Countdown",component:Countdown.I,tags:["autodocs"],parameters:{docs:{description:{component:"El componente countdown es un componente que sirve para hacer cuentas regresivas, con solo pasar un valor del tipo Date ya estará  funcionando. Ahora podemos preguntarnos porque no se pasa un valor numerico en lugar de una fecha y la respuesta es simple; Al pasar un valor numérico no tenemos como saber el tiempo transcurrido si se recarga la página como si sabemos al tener el valor de una fecha."}}},argTypes:{endTime:{control:{type:"date",required:!0},description:"Pasa la fecha y hora de fin de la cuenta regresiva.",table:{defaultValue:{summary:"null"}},type:{required:!0}},formatTime:{control:{type:"select"},description:"Formato con el cual se muestra en pantalla.",options:["hh:mm:ss","mm:ss","ss"],table:{defaultValue:{summary:"hh:mm:ss"}}},onFinish:{control:!1,description:"Callback que se ejecuta al terminar la cuenta regresiva.",table:{defaultValue:{summary:"null"}}},showZero:{control:{type:"boolean"},description:"Comienza la cuenta regresiva al pasar un valor true.",table:{defaultValue:{summary:"false"}}}}},CountdownExample=args=>(0,jsx_runtime.jsx)(Countdown.I,{...args});CountdownExample.displayName="CountdownExample",CountdownExample.args={endTime:(new Date).getTime()+1e4,formatTime:"hh:mm:ss",onFinish:(0,chunk_OPEUWD42.aD)("onFinish"),showZero:!0};const Countdown_stories=story;CountdownExample.parameters={...CountdownExample.parameters,docs:{...CountdownExample.parameters?.docs,source:{originalSource:"args => {\n  return <Countdown {...args} />;\n}",...CountdownExample.parameters?.docs?.source}}};const __namedExportsOrder=["CountdownExample"];CountdownExample.__docgenInfo={description:"",methods:[],displayName:"CountdownExample"}},"./src/components/atoms/Countdown/Countdown.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>Countdown});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),object=__webpack_require__("./src/utils/objects/object.js");const getTimeObject=ms=>{ms<0&&(ms=0);const days=Math.floor(ms/864e5),hours=Math.floor(ms%864e5/36e5),minutes=Math.floor(ms%36e5/6e4),seconds=Math.floor(ms%6e4/1e3);return{days:ms?days:0,hours:ms?hours:0,minutes:ms?minutes:0,seconds:ms?seconds:0,total_ms:ms||0}},Countdown=props=>{const{endTime,formatTime,onFinish,showZero}=props,[time,setTime]=(0,react.useState)(endTime-(new Date).getTime()),[startWithoutTime]=(0,react.useState)((()=>endTime-(new Date).getTime()<0)),timeoutRef=react.useRef();return(0,react.useEffect)((()=>{if(time>1e3){timeoutRef.current&&clearTimeout(timeoutRef.current);const id=setTimeout((()=>{const now=(new Date).getTime();setTime(endTime-now)}),1e3);timeoutRef.current=id}}),[endTime,time]),(0,react.useEffect)((()=>()=>{timeoutRef.current&&clearTimeout(timeoutRef.current)}),[]),(0,react.useEffect)((()=>{onFinish&&!startWithoutTime&&time<1e3&&onFinish()}),[onFinish,startWithoutTime,time]),time<1e3&&!showZero?null:((timeObject,format)=>{const fields=["hours","minutes","seconds"];let time={};timeObject?time=(0,object.e)(timeObject,fields):(time.hours=0,time.minutes=0,time.seconds=0),format||(format="hh:mm:ss");for(const property in time){let numString="";time[property]<10&&(numString="0"),numString+=time[property].toString(),"hours"===property?format=format.replace("hh",numString):"minutes"===property?format=format.replace("mm",numString):"seconds"===property&&(format=format.replace("ss",numString))}return format})(getTimeObject(time),formatTime)};Countdown.propTypes={endTime:prop_types_default().number.isRequired,formatTime:prop_types_default().oneOf(["hh:mm:ss","mm:ss","ss"]),onFinish:prop_types_default().func,showZero:prop_types_default().bool},Countdown.defaultProps={endTime:null,formatTime:"hh:mm:ss",onFinish:null,showZero:!1}},"./src/utils/objects/object.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{e:()=>pick});const pick=(obj,fields)=>{const newObj={};fields||(fields=[]);for(const property in obj)fields.includes(property)&&(newObj[property]=obj[property]);return newObj}},"./node_modules/react/cjs/react-jsx-runtime.production.min.js":(__unused_webpack_module,exports,__webpack_require__)=>{var f=__webpack_require__("./node_modules/react/index.js"),k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function q(c,a,g){var b,d={},e=null,h=null;for(b in void 0!==g&&(e=""+g),void 0!==a.key&&(e=""+a.key),void 0!==a.ref&&(h=a.ref),a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l,exports.jsx=q,exports.jsxs=q},"./node_modules/react/jsx-runtime.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/react/cjs/react-jsx-runtime.production.min.js")}}]);